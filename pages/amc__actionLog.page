<apex:page standardController="amc__Project__c" tabStyle="amc__Project__c" standardStylesheets="false" sidebar="false">
    <apex:includeScript value="{!URLFOR($Resource.amc__js, '/jquery/dist/jquery.min.js')}" />
    <apex:slds />    
    <div id="spinner" role="status" class="slds-spinner slds-spinner_medium">
        <div class="slds-spinner__dot-a"></div>
        <div class="slds-spinner__dot-b"></div>
    </div>
    <style>
        html,
		body {
			height: 100%;

		}
    </style>
    <apex:includeLightning />
    <script>
        $(document).ready(function () {
			$(window).resize(function () {
				setHeight();

			});
			setHeight();
		});
		function setHeight(){
			//window height
			var winHeight = $('body').height();
			//footer height
			var footerHeight = $('div.bPageFooter').outerHeight(true);
			var headerHeight = $('div.bPageHeader').outerHeight(true);
			//calculate our window height
			var pageHeight = winHeight-footerHeight-headerHeight;
			$('div#planner').height(pageHeight);
		}
        var loadContributors = function(){
            //get the required field values, then create the component.
            var projectId = '{!Project__c.Id}'
            $Lightning.use("amc:ResourceApp", function() {
                $Lightning.createComponent("amc:CreateActions",
                {
                    'recordId' : projectId,
                    'isLightning':false
                },
                "createActions",
                function(cmp) {
                    var spinner = document.getElementById("spinner");
                    spinner.style.display = 'none' ;
                });
            });
        }
        loadContributors();
    </script>
    <div id="createActions" style="width:100%; height:100%;"/>
</apex:page>