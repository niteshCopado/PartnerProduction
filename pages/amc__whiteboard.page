<apex:page id="page" standardStylesheets="false" showHeader="true" sidebar="false" title="Mission Control: Whiteboard" tabStyle="whiteboard__tab" standardController="amc__Project__c">
    <apex:includeScript value="{!URLFOR($Resource.amc__js, '/jquery/dist/jquery.min.js')}" />
    <style>
        html, body{
            margin:0;
            padding:0;
            height:100%;
        }
        table#bodyTable {
            table-layout: fixed;
        }
        span.assistiveText{
            display:none;
        }
        .outerNoSidebar{
            padding:0 !important;
        }
    </style>
    <apex:includeLightning /> 
    <apex:pageMessages />
    <div id="whiteboard" style="width:100%; height:100%;">
    </div>
    <script>
        $(document).ready(function () {
			$(window).resize(function () {
				setHeight();
			});
			setHeight();
		});
		function setHeight(){
			//window height
			var winHeight = $('body').height();
			//footer height
			var footerHeight = $('div.bPageFooter').outerHeight(true);
			var headerHeight = $('div.bPageHeader').outerHeight(true);
			//calculate our window height
			var boardHeight = winHeight-footerHeight-headerHeight;
			$('div#whiteboard').height(boardHeight);
        }
        var heightOffset = 0;
        if('{!$User.UITheme}'==='Theme3'){
            heightOffset = 65;
        }
        $Lightning.use("amc:WhiteboardApp", function() {
          $Lightning.createComponent("amc:Whiteboard",
          {'heightOffset':heightOffset, 'isClassic':true, 'isLightning':false, 'recordId':'{!Project__c.Id}'},"whiteboard",
          function(cmp) {
          });
        });
    </script>
</apex:page>