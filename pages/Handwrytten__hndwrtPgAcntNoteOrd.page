<!-- 
    Author: Phase One First, LLC
    Email: info@phaseonefirst.com [SFDC licensed username] 
    Handwrytten Note Review Order Page 
 -->
<apex:page id="thePage" standardController="Handwrytten__hndwrtObjNote__c" extensions="Handwrytten.hndwrtClsAcntNoteOrdExt" title="Review Handwrytten Order" tabstyle="hndwrtTabAcnts__tab" lightningStylesheets="true">
    <apex:stylesheet value="{!URLFOR($Resource.Handwrytten__SLDS232, 'assets/styles/salesforce-lightning-design-system-vf.css')}" />
    <apex:form id="theform">
    
    <div class="slds">
        <style>
            input.btn { 
                color:#1f1f2e; 
                background-color:#fed; 
                border:1px solid; 
                border-color: #b34700 #e65c00 #e65c00 b34700; 
            }
        </style> 
        
        <apex:sectionHeader title="Handwrytten" subtitle="Handwrytten Note" help="/apex/hndwrtPgHelp" />
    
        <apex:pageMessages />  
        <apex:pageMessage summary="There is a monthly budget set for this Handwrytten Account. You have either reached or exceeded monthly budget set for this Handwrytten Account. You will not be able to complete the order using the selected Handwrytten Account." severity="error" strength="3" rendered="{!showBudgetMsg}"/>
        <apex:pageMessage summary="Recipient address is outside of the United States. $1.00 will be added to international orders." severity="info" strength="3" rendered="{!showInternationalMsg}"/>
        <apex:pageMessage summary="One or more merge fields could not be replaced. Please review your message and correct accordingly." severity="info" strength="3" rendered="{!showMergeFldMsg}"/>
        
        <apex:pageBlock title="Handwrytten Review Order">  
        
            <apex:pageBlockSection title="Address Info" columns="2">
                <apex:outputField label="Sender Name" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Sender_Name__c}"/>
                <apex:outputField label="Recipient Name" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Recipient_Name__c}"/>
                
                <apex:outputField label="Sender Business Name" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Sender_Business_Name__c}"/>
                <apex:outputField label="Recipient Business Name" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Recipient_Business_Name__c}"/>
                
                <apex:outputField label="Sender Address" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Sender_Address__c}"/>
                <apex:outputField label="Recipient Address" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Recipient_Address__c}"/>
                
                <apex:outputField label="Sender Address Line 2" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Sender_Address_Line_2__c}"/>
                <apex:outputField label="Recipient Address Line 2" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Recipient_Address_Line_2__c}"/>
                
                <apex:outputField label="Sender City" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Sender_City__c}"/>
                <apex:outputField label="Recipient City" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Recipient_City__c}"/>
                
                <apex:outputField label="Sender State or Province" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Sender_State__c}"/>
                <apex:outputField label="Recipient State or Province" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Recipient_State__c}"/>
                
                <apex:outputField label="Sender Postal Code" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Sender_Zip__c}"/>
                <apex:outputField label="Recipient Postal Code" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Recipient_Zip__c}"/>
                
                <apex:outputField label="Sender Country" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Sender_Country__c}"/>
                <apex:outputField label="Recipient Country" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Recipient_Country__c}"/>
            </apex:pageBlockSection> 

            <apex:pageBlockSection title="Message" columns="1">
                <apex:outputField label="Message" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Message__c}"/>
            </apex:pageBlockSection>
            
             <apex:pageBlockSection title="Card" columns="1">
                <apex:outputField label="Category" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Card_Category__c}"/>
                <apex:outputField label="Name" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Card_Name__c}"/>
                <apex:outputField label="Description" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Card_Description__c}"/>
                <apex:outputField label="Orientation" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Card_Orientation__c}"/>
                <apex:outputField label="Price" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Card_Price__c}"/>
                <apex:image value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Card_URL__c}" style="max-width:400px;max-height:400px;"/>
            </apex:pageBlockSection>  
        
            <apex:pageBlockSection title="Inserts" columns="2">
                <apex:outputField label="Insert Name" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Insert_Name__c}"/>
                <apex:outputField label="Insert Price" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Insert_Price__c}"/>
            </apex:pageBlockSection>
            
            <apex:pageBlockSection title="Gift Card" columns="2">
                <apex:outputField label="Gift Card" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Gift_Card__c}"/>
                <apex:outputField label="Gift Card Amount" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Gift_Card_Amount__c}"/>
            </apex:pageBlockSection>
            
            <apex:pageBlockSection title="Handwrytten Account" columns="1">
                
                <apex:outputPanel id="opCCStatusMsg" rendered="{!hasStatusMsg}">
                <table style="width:600px;"> 
                <tr> 
                    <td>
                        <apex:pageMessage summary="{!statusMsg}" severity="info" strength="3" />
                    </td>                     
                </tr> 
                </table> 
                </apex:outputPanel>
                
                <apex:outputField label="Account Name" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten_Account__r.Name}"/>
                
                <apex:outputText value="{0,number,$#,###,###.00}" label="Monthly Budget" rendered="{!hasBudget}">
                	<apex:param value="{!monthlyBudget}" />
                </apex:outputText>
                
                <apex:outputText value="{0,number,$#,###,###.00}" label="Monthly Spend" rendered="{!hasBudget}">
                	<apex:param value="{!monthlySpend}" />
                </apex:outputText>
                
                <apex:outputText label="International Charge" value="$1.00" rendered="{!showInternationalMsg}"/>
                <apex:outputField label="Postage" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Postage__c}"/>
                <apex:outputField label="Total" value="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Total__c}"/>
                <apex:selectList label="Select Credit Card" value="{!selectedCcId}" size="1" id="slCC" rendered="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Status__c<>'Completed' && invoicedAcnt<>'1'}">
                    <apex:selectOptions value="{!CCs}"/>
                </apex:selectList>
            
            <apex:outputPanel > 
                <apex:commandButton value="Process Order" action="{!completeOrder}" disabled="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Status__c=='Completed' || showBudgetMsg}" 
                    onclick="return window.confirm('Are you sure you want to complete order?');" rendered="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Status__c<>'Completed'}" styleClass="btn" style="padding: 4px; text-decoration: none; background:#e6f9ff;"/> 
                <!-- 
                <apex:commandButton value="New Credit Card" action="{!newCreditCard}" rendered="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Status__c<>'Completed'}" /> 
                -->
				<apex:commandButton value="Edit Note" action="{!editNote}" rendered="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Status__c<>'Completed'}" />  
                <apex:commandButton value="Cancel" action="{!cancel}" rendered="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Status__c<>'Completed'}" /> 
                <apex:commandButton value="Return to Account" action="{!cancel}" rendered="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Status__c='Completed' && source='Account'}" /> 
                <apex:commandButton value="Return to Contact" action="{!cancel}" rendered="{!Handwrytten__hndwrtObjNote__c.Handwrytten__Status__c='Completed' && source='Contact'}" />
            </apex:outputPanel> 

            </apex:pageBlockSection>
        </apex:pageBlock>
        </div>
    </apex:form>
</apex:page>