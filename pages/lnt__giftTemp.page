<apex:page controller="lnt.constants" sidebar="false">
    <apex:slds />
    <style type="text/css">
        #giftTemplate {
            background-color: #f7f9fb;
            padding-bottom: 0;
            margin-bottom: 0;
            position: relative;
        }
        .noSidebarCell #giftTemplate {
        	min-height: calc(80vh - 120px);
        }
        .bodyDiv .outerNoSidebar,
        .noSidebarCell,
        .sidebarCell .fixed {
            padding: 0;
        }
    </style>
    <apex:includeLightning />

    <div id="giftTemplate"/>
    <script type="text/javascript">
        var recordId = '{!JSEncode($CurrentPage.parameters.id)}';
     console.log('recordId-'+recordId);
    // console.log('recordIdsd56-'+recordId+'{!memberType}-'+{!memberType});
        $Lightning.use("{!JSEncode(ns)}:giftTempApp", function(){
            $Lightning.createComponent('{!JSEncode(ns)}:giftTemplate',
            {
                recordId: recordId,
                memberType:'{!memberType}'
            }, 
            "giftTemplate",
            function(cmp){
                $A.eventService.addHandler({'event': 'force:navigateToSObject', 'handler' : navigate});
            });
        });

        var navigate = function(event) {
            var recordId = event.getParam('recordId');
            var url = window.location.origin + '/' + recordId;
            window.open(url, '_top');
            // window.parent.location = '/' + event.getParam('recordId');
        };
    </script>
</apex:page>